## X) Read/watch/listen and summarize

- Ohjeet ghidran asennukseen, mukaaanlukien jdk asennus joka oli hyödyllistä.
- Video oli todella hyödyllinen, koska siinä tutustuttii ghidran ominaisuuksiin ja tehtiin esimerkkihaaste, sekä käytettiin minulle uusia linux komentoja.

## Ympäristö
Avasin debian13 virtuaalikoneen oracle virtualboxin avulla pöytäkoneellani. Tässä ympäristössä on tarkoitus tehdä tehtävät. Toisella näytöllä on kuitenkin windows11 ympäristö jota käytän ohjeiden yms etsimiseen.

## a) install ghidra

- Asensin ghidran [tämän](https://www.youtube.com/watch?v=oTD_ki86c9I) videon mukaisesti
- Ei ongelmia, asentanut jo läppärille ghidran ja nyt toistamiseen pöytäkoneelle.
- Avasin ghidran

## b) Rever-C

Ilmeisesti pitää tutkailla aikaisemmissa tehtävissä tutuksi tullutta packd tiedostoa, tutustua ghidran ominaisuuksiin, C -ohjelmointikieleen ja kertoa packd toiminnasta.
Avasin aiemmassa viikkotehtävässä jo upx -d packd -komennolla puretun tiedoston ghidrassa. 

<img width="806" height="869" alt="image" src="https://github.com/user-attachments/assets/0b71c007-8458-41cc-b0f0-b9b50197cde8" />

Painoin OK, jonka jälkeen avasin tiedoston CodeBrowserissa ja ghidra ehdotti tiedoston analysointia, johon painoin analyze. Tämän jälkeen aloin suorittamaan itse tehtävää.
Ghidra siirtää käyttäjän ilmeisesti suoraan main funktion kohdalle, klikkasin main funktiota joka avaa funktion decompilerissa sivulle.

<img width="1635" height="927" alt="image" src="https://github.com/user-attachments/assets/6d35d4be-c7ec-4701-b4ad-4a9edf7c2720" />

Tässä näkyi funktion ja oikeastaan koko tiedoston toiminnallisuus. 

<img width="563" height="373" alt="image" src="https://github.com/user-attachments/assets/4686af67-22fb-49a8-97e9-45bedcf3cfb3" />

C- ohjelmointikieli on nmielestäni ihan luettavaa, joten kommentoin funktion toiminnan ghidran comment ominaisuuden avulla ja muokkasin muuttujien nimiä. Kuvassa näkyy jokaisen funktionaalisuuden selitys ja toiminta.

<img width="562" height="396" alt="image" src="https://github.com/user-attachments/assets/eee623f6-01b6-4cd3-a03f-26c579c58b2b" />

Suljin työkalun jotta pääsen valitsemaan seuraavan tiedoston seuraavassa tehtävässä.

## c) if backwards

Avasin passtr tiedoston normaaliin tyyliin ghidrassa ja analysoin koodin. Tämän jälkeen ghidra ohjasi suoraan main funktion kohdalle ja valitsin funktion ja avasi viereen decompile näkymän. 

<img width="1626" height="923" alt="image" src="https://github.com/user-attachments/assets/51c76eb9-0ad8-40cc-9e16-0f1242830a6d" />

Tehtävänannon mukaan piti muokata koodia niin, että hyväksyy kaikki paitsi oikean salasanan. Muokaaan muuttujien nimiä hieman kuvaamaan muutoksiani ja niiden merkitystä. 
Ei ollut mitään hajua miten muokata koodia ja ajaa uudelleen, joten kirjoitin youtubeen ghidra edit code ja törmäsin [tähän videoon](https://www.youtube.com/watch?v=8U6JOQnOOkg)
Videon avulla sain aika hyvän käsityksen kuinka ghidrassa tehdään koodiin muutoksia, luulin että käännettyjä funktioita voi muokata suoraan, mutta näin ei ole. Avasin graafisen näkymän jossa näkyy if else tapahtumat ja mikä siihen johtaa.

<img width="1019" height="998" alt="image" src="https://github.com/user-attachments/assets/eb5fb9d2-2fce-4be1-92fb-23494abcfe0c" />

Muokkasin JNZ kohtaa joka tarkoittaa "Jump Not Zero" eli jos syötteen ja salasanan vertailun arvo ei ole 0 -> JZ eli Jump Zero eli kääntämällä tarkastuksen nurinperin. Hyvin yksinkertaista. Alla kuvat kertomaan tapahtumien kulkua. 

<img width="724" height="421" alt="image" src="https://github.com/user-attachments/assets/6f8594e6-0639-492c-a73c-b30568425892" />

<img width="1306" height="326" alt="image" src="https://github.com/user-attachments/assets/63661e30-25fb-4fc0-9a10-50f3aeecc7f5" />

Muutoksen jälkeen painoin "o" jonka avulla voin exporttaa tiedoston h4 kansioon. Valitsin tiedostotyypiksi original file jotta tiedostotyyppi pysyisi samana kuin aiemmin ja painoin ok. Tämän jälkeen annoin chmod +x passtr komennolla suoritusoikeuden tiedostolle.

<img width="732" height="195" alt="image" src="https://github.com/user-attachments/assets/7c8bf8e5-00e3-40f9-ba44-1f9b4f0eddad" />

Tämän jälkeen ajoin kuvanmukaiset testit tiedostolle.

Yhteenvetona voidaan todeta että alkuun ei ollut mitään hajua miten muokkauksia tehdään, mutta videon avulla tehtävä sujui helposti ja oppi perusjuttuja. Kesto 1h.

## d) Nora CrackMe

Latasin tehtävään vaaditun repositoryn zip tiedostona githubista, jonka sitten purin unzip komennolla. Käänsin gcc -0 komennolla seuraavien tehtävien tiedostot binäärimuotoon.

<img width="692" height="89" alt="image" src="https://github.com/user-attachments/assets/c57de78b-6915-4d1d-be33-2c3c78d6541e" />

Tämän jälkeen aloin tekemään tehtäviä.

## e) Nora crackme01 & Nora crackme01e

### Nora crackme01

Ajoin ensiksi ./cm01 joka antoi vastaukseksi "Need exactly one argument", tämän jälkeen syötin sanan test komennon yhteyteen ja vastaus No, test is not correct. Aiemmmista tehtävistä muilta viikkotehtäviltä kokeilin ensiksi strings komentoa, tämä antoi seuraavat merkkijonot komentokehotteeseen:

<img width="297" height="76" alt="image" src="https://github.com/user-attachments/assets/fc22f73d-60d6-4d34-bf27-9386d6c9a615" />

Latoin kyseisen salasanan komennon perään ja toimi. 

<img width="600" height="36" alt="image" src="https://github.com/user-attachments/assets/1533abb0-aabd-4f92-8d74-bcdce4c56759" />

Kesto: 1min

### Nora crackme01e

Aloitin ajamalla strings komennon edellisestä tehtävästä tuttuun tyyliin, antoi merkkijonon: slm!paas.k .

<img width="282" height="38" alt="image" src="https://github.com/user-attachments/assets/2c8435c8-b825-4029-b937-eec8c367da9b" />

Kokeilin alkuun laittaa ./cm01e slm!paas.k mutta vastaukseksi tuli bash: "!paas.k: event not found" . Kokeilin josko toimisi jos laittaisi heittomerkit sanan ympärille, ja toimi. 

<img width="657" height="41" alt="image" src="https://github.com/user-attachments/assets/62fa53d5-7d8f-4462-89b0-8b07e1dde12e" />

Kesto: 2min

## f) Nora crackme02 

Käynnistin ghidran ja importtasin cm02 tiedoston jonka olin jo aiemmin gcc -o komennolla kääntänyt. Ghidra analysoi sen ja siirsi minut suoraan main() funktioon. Avasin käännetyn version vieren funktiosta ja aloin perkaamaan sitä läpi merkaten muuttujia ja kommentoimaan osion merkitystä funktiossa.

<img width="746" height="458" alt="image" src="https://github.com/user-attachments/assets/286af415-0b83-43a2-ad26-d98e2881ee14" />

Hetken pohdittuani tajusin että for loop vain käy läpi (minun johtopäätöksen mukaan) salasanojen pituuksia password1 ja käyttäjän syötteen kanssa. Muut johtopäätökset näkee kuvasta. Googletin ja päädyin sivulle https://www.ibm.com/docs/en/sdse/6.4.0?topic=configuration-ascii-characters-from-33-126 tarkastelemaan merkkejä josko sieltä löytyisi vastauksia tähän merkkien järjestykseen liittyen. 
Lähdin kääntämään password1 sanaa -1 jokaiselle merkille, jonka pitäisi antaa sitten oikea salasana. Hetken käänneltyäni tajusin että salasanan olisi voinut kääntää omassa mielessäkin jos olisi tiennyt backslashin ulkoa. Vastaukseksi tuli o`rrvnqc0 .

<img width="612" height="144" alt="image" src="https://github.com/user-attachments/assets/341e2847-f74c-4de0-ae69-f3a051293c50" />

Alkuun annoin ilman numeroa vahingossa ja antoi oikean vastauksen :D . Tämän jälkeen syötin vielä numeron kanssa ja molemmat meni oikein. 

<img width="721" height="73" alt="image" src="https://github.com/user-attachments/assets/9a54bd1d-6aed-414b-a392-a1ac73c25f6e" />

lopuksi vielä kokeilin syöttää numeroita lisää eikä ollut lopputuleman kanssa merkitystä. Hauska ja sopivan haasteellinen tehtävä jossa oppi osoittimien merkityksen ja lukemaan c -kieltä ja ASCII merkkejä. Kesto 1h.

